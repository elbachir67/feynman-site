<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pandas | IA4Ndada</title>

    <!-- Pyodide pour Python dans le navigateur -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>

    <link rel="stylesheet" href="../../styles/module.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-container">
        <div class="nav-breadcrumb">
          <a href="../../index.html">ğŸ  Accueil</a>
          <span>â€º</span>
          <span>ğŸ’» Python</span>
          <span>â€º</span>
          <span>Pandas</span>
        </div>
        <div class="progress-indicator">
          <span id="progress-text">Progression: 0%</span>
          <div class="progress-bar">
            <div
              class="progress-fill"
              id="progress-fill"
              style="width: 0%"
            ></div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Contenu principal -->
    <div class="container">
      <h1>ğŸ¼ Pandas : Manipulation de DonnÃ©es</h1>
      <p class="subtitle">Module 2.3 - Programmation pour l'IA</p>

      <!-- Objectifs -->
      <div class="objectives">
        <h2>ğŸ¯ Objectifs d'apprentissage</h2>
        <ul id="objectives-list">
          <!-- Les objectifs seront ajoutÃ©s dynamiquement -->
        </ul>
      </div>

      <!-- Contenu du module -->
      <div id="module-content">
        <!-- Le contenu sera ajoutÃ© dynamiquement -->
      </div>

      <!-- Quiz -->
      <div class="quiz" id="module-quiz" style="display: none">
        <div class="quiz-question" id="quiz-question"></div>
        <div class="quiz-options" id="quiz-options"></div>
        <div class="quiz-feedback" id="quiz-feedback"></div>
      </div>

      <!-- Checkpoint -->
      <div class="checkpoint">
        <h3>ğŸ‰ Checkpoint - Pandas</h3>
        <p>
          FÃ©licitations ! Vous maÃ®trisez maintenant Pandas pour la manipulation
          de donnÃ©es en IA.
        </p>
        <button
          class="checkpoint-btn"
          id="checkpoint-btn"
          onclick="completeCheckpoint()"
        >
          Marquer comme complÃ©tÃ©
        </button>
      </div>

      <!-- Navigation entre modules -->
      <div class="module-nav">
        <a href="numpy.html" class="nav-link" id="prev-link"
          >â† Module prÃ©cÃ©dent : NumPy</a
        >
        <a href="matplotlib.html" class="nav-link" id="next-link"
          >Module suivant : Matplotlib â†’</a
        >
      </div>
    </div>

    <script src="../../scripts/module-engine.js"></script>
    <script>
      // Configuration du module Pandas
      const moduleConfig = {
        id: "python-pandas",
        title: "Pandas : Manipulation de DonnÃ©es",
        category: "Python",
        objectives: [
          "Comprendre pourquoi Pandas est essentiel pour l'IA",
          "CrÃ©er et manipuler des DataFrames efficacement",
          "Nettoyer et transformer des donnÃ©es rÃ©elles",
          "Analyser des datasets comme un data scientist",
        ],
        content: [
          {
            type: "concept",
            icon: "ğŸ’¡",
            title: "Pourquoi Pandas rÃ©volutionne l'analyse de donnÃ©es ?",
            content: `
                        <p><strong>Pandas</strong> (Panel Data) est LA bibliothÃ¨que incontournable pour manipuler des donnÃ©es structurÃ©es en Python. C'est l'Excel des data scientists, mais en 100x plus puissant !</p>
                        
                        <p><strong>ğŸ”‘ ProblÃ¨me rÃ©solu :</strong></p>
                        <ul>
                            <li>ğŸ“Š <strong>DonnÃ©es brutes</strong> : CSV, Excel, JSON, SQL â†’ chaos</li>
                            <li>âœ¨ <strong>Pandas</strong> : structure, nettoie, analyse â†’ insights</li>
                        </ul>
                        
                        <p><strong>ğŸš€ Superpouvoir Pandas :</strong></p>
                        <ul>
                            <li>ğŸ“‹ <strong>DataFrames</strong> : tableaux intelligents avec labels</li>
                            <li>ğŸ§¹ <strong>Nettoyage</strong> : gÃ¨re les donnÃ©es manquantes automatiquement</li>
                            <li>ğŸ”„ <strong>Transformation</strong> : pivot, group by, merge en une ligne</li>
                            <li>ğŸ“ˆ <strong>Analyse</strong> : statistiques descriptives instantanÃ©es</li>
                        </ul>
                        
                        <p><strong>ğŸ¤– Applications en IA :</strong></p>
                        <ul>
                            <li>ğŸ“Š <strong>PrÃ©paration de donnÃ©es</strong> : 80% du travail d'un data scientist</li>
                            <li>ğŸ§  <strong>Feature engineering</strong> : crÃ©er de nouvelles variables</li>
                            <li>ğŸ“ˆ <strong>Analyse exploratoire</strong> : comprendre les patterns</li>
                            <li>ğŸ¯ <strong>Preprocessing</strong> : prÃ©parer pour les modÃ¨les ML</li>
                        </ul>
                    `,
          },
          {
            type: "intuition",
            icon: "ğŸ§ ",
            title: "Excel vs Pandas : le match du siÃ¨cle",
            content: `
                        <p>Imaginez que vous devez analyser <strong>1 million de lignes de donnÃ©es de ventes</strong> :</p>
                        
                        <p><strong>ğŸ“Š Avec Excel :</strong></p>
                        <ul>
                            <li>ğŸ’¥ <strong>Crash</strong> : Excel plante avec trop de donnÃ©es</li>
                            <li>ğŸŒ <strong>Lenteur</strong> : 5 minutes pour un simple tri</li>
                            <li>ğŸ¤¯ <strong>ComplexitÃ©</strong> : formules illisibles partout</li>
                            <li>âŒ <strong>Erreurs</strong> : un clic et tout est cassÃ©</li>
                        </ul>
                        
                        <p><strong>ğŸ¼ Avec Pandas :</strong></p>
                        <ul>
                            <li>âš¡ <strong>RapiditÃ©</strong> : 1 seconde pour trier 1M de lignes</li>
                            <li>ğŸ§  <strong>Intelligence</strong> : dÃ©tecte automatiquement les types</li>
                            <li>ğŸ”„ <strong>ReproductibilitÃ©</strong> : mÃªme code = mÃªme rÃ©sultat</li>
                            <li>ğŸš€ <strong>Ã‰volutivitÃ©</strong> : de 1000 Ã  1 milliard de lignes</li>
                        </ul>
                        
                        <p><strong>ğŸ’¡ Analogie :</strong></p>
                        <ul>
                            <li>ğŸ“Š <strong>Excel</strong> : comme une calculatrice avancÃ©e</li>
                            <li>ğŸ¼ <strong>Pandas</strong> : comme un supercalculateur intelligent</li>
                        </ul>
                    `,
          },
          {
            type: "code",
            title: "CrÃ©ation d'un DataFrame",
            description:
              "CrÃ©ons notre premier DataFrame Ã  partir d'un dictionnaire :",
            code: `import pandas as pd

# CrÃ©ation d'un DataFrame Ã  partir d'un dictionnaire
data = {
    'nom': ['Aminata', 'Moussa', 'Fatou', 'Ibrahima', 'AÃ¯ssatou'],
    'age': [25, 30, 35, 28, 32],
    'ville': ['Dakar', 'ThiÃ¨s', 'Saint-Louis', 'Kaolack', 'Ziguinchor'],
    'salaire': [450000, 550000, 480000, 520000, 580000]  # En FCFA
}

df = pd.DataFrame(data)
print("ğŸ“Š DATAFRAME CRÃ‰Ã‰")
print(df)
print(f"\\nForme : {df.shape} (lignes, colonnes)")`,
          },
          {
            type: "code",
            title: "Exploration du DataFrame",
            description: "DÃ©couvrons les mÃ©thodes d'exploration essentielles :",
            code: `# Informations gÃ©nÃ©rales sur le DataFrame
print("ğŸ” INFORMATIONS GÃ‰NÃ‰RALES")
print(df.info())

print("\\nğŸ“ˆ STATISTIQUES DESCRIPTIVES")
print(df.describe())

print("\\nğŸ‘€ APERÃ‡U DES DONNÃ‰ES")
print("5 premiÃ¨res lignes :")
print(df.head())`,
          },
          {
            type: "code",
            title: "AccÃ¨s aux donnÃ©es",
            description: "Comment accÃ©der aux colonnes et lignes :",
            code: `# AccÃ¨s aux colonnes
print("ğŸ‘¥ NOMS DES EMPLOYÃ‰S")
print(df['nom'].tolist())

print("\\nğŸ‘¤ PREMIER EMPLOYÃ‰ (par index)")
print(df.iloc[0])

print("\\nğŸ’° SALAIRES > 500000 FCFA")
riches = df[df['salaire'] > 500000]
print(riches[['nom', 'salaire']])`,
          },
          {
            type: "code",
            title: "Modification du DataFrame",
            description: "Ajoutons de nouvelles colonnes calculÃ©es :",
            code: `# Ajout d'une nouvelle colonne
df['salaire_mensuel'] = df['salaire'] / 12
df['experience'] = [2, 5, 8, 3, 6]

print("ğŸ’³ NOUVELLES COLONNES AJOUTÃ‰ES")
print(df[['nom', 'salaire', 'salaire_mensuel', 'experience']].round(0))

print("\\nğŸ“Š RÃ‰SUMÃ‰ FINAL")
print(f"Nombre d'employÃ©s : {len(df)}")
print(f"Salaire moyen : {df['salaire'].mean():.0f} FCFA")`,
          },
          {
            type: "code",
            title: "GÃ©nÃ©ration de donnÃ©es e-commerce",
            description: "CrÃ©ons un dataset rÃ©aliste de ventes en ligne :",
            code: `import numpy as np

# Simulation d'un dataset de ventes e-commerce
np.random.seed(42)
n_ventes = 50

produits = ['Ordinateur', 'TÃ©lÃ©phone', 'Tablette', 'Ã‰couteurs', 'Montre']
villes = ['Dakar', 'ThiÃ¨s', 'Saint-Louis', 'Kaolack', 'Ziguinchor']

ventes_data = {
    'date': pd.date_range('2024-01-01', periods=n_ventes, freq='D'),
    'produit': np.random.choice(produits, n_ventes),
    'prix': np.random.uniform(25000, 750000, n_ventes).round(0),  # Prix en FCFA
    'quantite': np.random.randint(1, 5, n_ventes),
    'ville': np.random.choice(villes, n_ventes)
}

df_ventes = pd.DataFrame(ventes_data)
df_ventes['ca'] = df_ventes['prix'] * df_ventes['quantite']

print("ğŸ›’ DATASET DE VENTES E-COMMERCE SÃ‰NÃ‰GAL")
print(df_ventes.head(10))`,
          },
          {
            type: "code",
            title: "Analyse des ventes",
            description: "Analysons les performances de notre e-commerce :",
            code: `print(f"ğŸ“Š APERÃ‡U DU DATASET")
print(f"Nombre de ventes : {len(df_ventes)}")
print(f"PÃ©riode : {df_ventes['date'].min()} Ã  {df_ventes['date'].max()}")
print(f"CA total : {df_ventes['ca'].sum():,.0f} FCFA")

print("\\nğŸ† TOP 3 PRODUITS PAR CA")
top_produits = df_ventes.groupby('produit')['ca'].sum().sort_values(ascending=False)
print(top_produits.head(3))

print("\\nğŸŒ CA PAR VILLE")
ca_ville = df_ventes.groupby('ville')['ca'].sum().sort_values(ascending=False)
print(ca_ville)`,
          },
          {
            type: "code",
            title: "DonnÃ©es avec problÃ¨mes",
            description: "CrÃ©ons un dataset 'sale' avec des problÃ¨mes rÃ©els :",
            code: `# Dataset avec des problÃ¨mes typiques
data_sale = {
    'nom': ['Aminata', '', 'Ousmane', 'MariÃ¨me', None, 'Cheikh'],
    'age': [25, 30, -5, 28, 150, 32],  # Ã‚ges aberrants
    'email': ['aminata@orange.sn', 'moussa@', 'ousmane@gmail.com', 
              'marieme@yahoo.fr', 'email-invalide', 'cheikh@hotmail.com'],
    'salaire': [45000, np.nan, 48000, 52000, 58000, np.nan]  # Valeurs manquantes
}

df_sale = pd.DataFrame(data_sale)
print("ğŸš¨ DATASET AVEC PROBLÃˆMES")
print(df_sale)
print(f"\\nValeurs manquantes par colonne :")
print(df_sale.isnull().sum())`,
          },
          {
            type: "code",
            title: "Nettoyage des donnÃ©es",
            description: "Nettoyons les problÃ¨mes un par un :",
            code: `# 1. Nettoyage des noms vides
df_clean = df_sale.copy()
df_clean = df_clean.dropna(subset=['nom'])  # Supprimer les NaN
df_clean = df_clean[df_clean['nom'] != '']  # Supprimer les chaÃ®nes vides

print("ğŸ§¹ APRÃˆS NETTOYAGE DES NOMS")
print(f"Lignes restantes : {len(df_clean)}")

# 2. Correction des Ã¢ges aberrants
age_median = df_clean['age'][(df_clean['age'] > 0) & (df_clean['age'] < 100)].median()
df_clean.loc[(df_clean['age'] <= 0) | (df_clean['age'] >= 100), 'age'] = age_median

print(f"\\nğŸ‘¶ Ã‚GES CORRIGÃ‰S (mÃ©diane = {age_median})")
print("Ã‚ges aprÃ¨s correction :", df_clean['age'].tolist())`,
          },
          {
            type: "code",
            title: "Validation et finalisation",
            description: "Validons les emails et finalisons le nettoyage :",
            code: `# 3. Validation des emails
email_pattern = r'^[\\w\\.-]+@[\\w\\.-]+\\.[a-zA-Z]{2,}$'
df_clean['email_valide'] = df_clean['email'].str.match(email_pattern, na=False)

print("ğŸ“§ VALIDATION DES EMAILS")
print(df_clean[['email', 'email_valide']])

# 4. Gestion des salaires manquants
salaire_moyen = df_clean['salaire'].mean()
df_clean['salaire'].fillna(salaire_moyen, inplace=True)

print(f"\\nğŸ’° SALAIRES COMPLÃ‰TÃ‰S (moyenne = {salaire_moyen:.0f} FCFA)")
print("\\nâœ… DATASET NETTOYÃ‰ FINAL")
print(df_clean[['nom', 'age', 'email_valide', 'salaire']])`,
          },
          {
            type: "code",
            title: "GÃ©nÃ©ration de donnÃ©es par rÃ©gion",
            description:
              "CrÃ©ons un dataset de ventes par rÃ©gion pour les analyses groupÃ©es :",
            code: `# Dataset de ventes par rÃ©gion
np.random.seed(42)
n_ventes = 100

regions = ['Dakar', 'ThiÃ¨s', 'Kaolack', 'Saint-Louis', 'Ziguinchor']
vendeurs = ['Aminata', 'Moussa', 'Fatou', 'Ibrahima', 'AÃ¯ssatou']
produits = ['Ordinateur', 'TÃ©lÃ©phone', 'Tablette', 'Ã‰couteurs']

ventes = pd.DataFrame({
    'date': pd.date_range('2024-01-01', periods=n_ventes, freq='D'),
    'region': np.random.choice(regions, n_ventes),
    'vendeur': np.random.choice(vendeurs, n_ventes),
    'produit': np.random.choice(produits, n_ventes),
    'prix_unitaire': np.random.uniform(50000, 1000000, n_ventes).round(0),  # FCFA
    'quantite': np.random.randint(1, 10, n_ventes)
})

ventes['ca'] = ventes['prix_unitaire'] * ventes['quantite']
print("ğŸ“Š DATASET DE VENTES PAR RÃ‰GION")
print(ventes.head(8))`,
          },
          {
            type: "code",
            title: "Analyses par rÃ©gion",
            description: "Analysons les performances par rÃ©gion avec groupby :",
            code: `# Analyse par rÃ©gion
print("ğŸŒ PERFORMANCE PAR RÃ‰GION")
perf_region = ventes.groupby('region').agg({
    'ca': ['sum', 'mean', 'count'],
    'quantite': 'sum'
}).round(2)

perf_region.columns = ['CA_Total', 'CA_Moyen', 'Nb_Ventes', 'Quantite_Totale']
print(perf_region.sort_values('CA_Total', ascending=False))

print("\\nğŸ† TOP 3 VENDEURS")
top_vendeurs = ventes.groupby('vendeur')['ca'].sum().sort_values(ascending=False)
print(top_vendeurs.head(3))`,
          },
          {
            type: "code",
            title: "Tableaux croisÃ©s et Ã©volution",
            description:
              "CrÃ©ons des tableaux croisÃ©s et analysons l'Ã©volution :",
            code: `# Tableau croisÃ© : Produit x RÃ©gion
print("ğŸ“± TABLEAU CROISÃ‰ : CA PAR PRODUIT ET RÃ‰GION")
pivot_table = pd.pivot_table(ventes, 
                           values='ca', 
                           index='produit', 
                           columns='region', 
                           aggfunc='sum', 
                           fill_value=0).round(0)
print(pivot_table)

# Ã‰volution mensuelle
ventes['mois'] = ventes['date'].dt.to_period('M')
print("\\nğŸ“ˆ Ã‰VOLUTION DU CA PAR MOIS")
ca_mensuel = ventes.groupby('mois')['ca'].sum().round(0)
print(ca_mensuel)`,
          },
          {
            type: "code",
            title: "CrÃ©ation de tables liÃ©es",
            description:
              "CrÃ©ons plusieurs DataFrames liÃ©s comme une vraie base de donnÃ©es :",
            code: `# Tables liÃ©es (comme une base de donnÃ©es)
np.random.seed(42)

# Table des clients
clients = pd.DataFrame({
    'client_id': range(1, 11),
    'nom': ['Aminata Diallo', 'Moussa Sow', 'Fatou Ba', 'Ibrahima Fall', 'AÃ¯ssatou Ndiaye',
            'Ousmane Diouf', 'MariÃ¨me Sarr', 'Cheikh Sy', 'Khady Faye', 'Mamadou Kane'],
    'ville': np.random.choice(['Dakar', 'ThiÃ¨s', 'Saint-Louis'], 10),
    'age': np.random.randint(25, 65, 10)
})

# Table des commandes
commandes = pd.DataFrame({
    'commande_id': range(101, 121),
    'client_id': np.random.choice(range(1, 11), 20),
    'date': pd.date_range('2024-01-01', periods=20, freq='D'),
    'total': np.random.uniform(25000, 250000, 20).round(0)  # FCFA
})

print("ğŸ‘¥ TABLE CLIENTS")
print(clients.head())
print("\\nğŸ›’ TABLE COMMANDES")
print(commandes.head())`,
          },
          {
            type: "code",
            title: "Jointures simples",
            description: "Effectuons des jointures entre nos tables :",
            code: `# Jointure clients + commandes
commandes_completes = pd.merge(commandes, clients, on='client_id', how='left')

print("ğŸ”— JOINTURE CLIENTS + COMMANDES")
print(commandes_completes[['commande_id', 'nom', 'ville', 'total']].head())

print("\\nğŸ’° CA PAR CLIENT")
ca_par_client = commandes_completes.groupby('nom')['total'].sum().sort_values(ascending=False)
print(ca_par_client.head())

print("\\nğŸŒ CA PAR VILLE")
ca_par_ville = commandes_completes.groupby('ville')['total'].sum().sort_values(ascending=False)
print(ca_par_ville)`,
          },
          {
            type: "warning",
            icon: "âš ï¸",
            title: "Bonnes pratiques Pandas pour l'IA",
            content: `
                        <p><strong>ğŸ“‹ RÃ¨gles d'or pour l'IA :</strong></p>
                        <ul>
                            <li>ğŸ§¹ <strong>Toujours nettoyer</strong> : 80% du temps d'un data scientist</li>
                            <li>ğŸ“Š <strong>Explorer d'abord</strong> : .describe(), .info(), .head()</li>
                            <li>ğŸ” <strong>VÃ©rifier les types</strong> : .dtypes pour Ã©viter les surprises</li>
                            <li>ğŸ’¾ <strong>Sauvegarder les Ã©tapes</strong> : df.copy() avant modifications</li>
                            <li>ğŸ“ˆ <strong>Visualiser</strong> : graphiques pour comprendre les patterns</li>
                            <li>ğŸ¯ <strong>Optimiser la mÃ©moire</strong> : .memory_usage() pour gros datasets</li>
                        </ul>
                        <p><strong>ğŸ’¡ Point clÃ© :</strong> Pandas est votre meilleur ami pour prÃ©parer les donnÃ©es avant de les donner aux modÃ¨les d'IA. Des donnÃ©es propres = modÃ¨les performants !</p>
                        <p><strong>ğŸ”® Prochaine Ã©tape :</strong> Matplotlib pour visualiser tout ce qu'on a analysÃ© !</p>
                    `,
          },
        ],
        quiz: {
          question:
            "ğŸ¤” Quelle mÃ©thode utilise-t-on pour joindre deux DataFrames sur une colonne commune ?",
          options: [
            "A) df.join()",
            "B) pd.merge()",
            "C) df.concat()",
            "D) df.append()",
          ],
          correct: 1,
          explanation:
            "pd.merge() est la mÃ©thode principale pour joindre des DataFrames sur des colonnes communes. Elle offre diffÃ©rents types de jointures (left, right, inner, outer) comme en SQL.",
        },
        prevModule: "numpy.html",
        nextModule: "matplotlib.html",
      };

      // Initialiser le module
      document.addEventListener("DOMContentLoaded", function () {
        initializeModule(moduleConfig);
      });
    </script>
  </body>
</html>
