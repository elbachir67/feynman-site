<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valeurs propres | IA4Ndada</title>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
  <link rel="stylesheet" href="../../styles/module.css">
</head>
<body>
  <nav class="nav">
    <div class="nav-container">
      <div class="nav-breadcrumb">
        <a href="../../index.html">Accueil</a>
        <span>‚Ä∫</span>
        <span>Maths</span>
        <span>‚Ä∫</span>
        <span>Valeurs propres</span>
      </div>
      <div class="progress-indicator">
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
        </div>
        <span id="progress-text">0%</span>
        <span id="pyodide-status"><span class="status-loading">Chargement Python...</span></span>
      </div>
    </div>
  </nav>

  <div class="container">
    <h1>Valeurs propres</h1>
    <p class="subtitle">Module 1.3 ‚Äî Les directions privil√©gi√©es</p>

    <div class="objectives">
      <h2>Ce que vous allez apprendre</h2>
      <ul id="objectives-list"></ul>
    </div>

    <div id="module-content"></div>

    <div class="checkpoint">
      <h3>Checkpoint</h3>
      <p>Compl√©tez tous les exercices pour valider ce module</p>
      <button class="checkpoint-btn" id="checkpoint-btn" onclick="completeCheckpoint()" disabled>
        Valider le module
      </button>
    </div>

    <div class="module-nav">
      <a href="matrices.html" class="nav-link">‚Üê Matrices</a>
      <a href="derivatives.html" class="nav-link">D√©riv√©es ‚Üí</a>
    </div>
  </div>

  <script src="../../scripts/module-engine.js"></script>
  <script>
const moduleConfig = {
  id: "math-eigenvalues",
  title: "Valeurs propres",
  category: "Math√©matiques",
  objectives: [
    "Comprendre ce qu'est une valeur propre et un vecteur propre",
    "Savoir calculer les valeurs propres d'une matrice 2√ó2",
    "Trouver les vecteurs propres correspondants",
    "Comprendre l'application en r√©duction de dimension (PCA)"
  ],
  content: [
    // ========== SECTION 1: POURQUOI ==========
    {
      type: "concept",
      icon: "üéØ",
      title: "Pourquoi les valeurs propres ?",
      content: `
        <p><strong>Certaines directions sont "sp√©ciales" pour une matrice.</strong></p>
        <p>Quand une matrice transforme un vecteur, elle le tourne ET l'√©tire. Mais dans certaines directions, elle ne fait QUE l'√©tirer (ou r√©tr√©cir), sans tourner.</p>
        <p><strong>Ces directions sp√©ciales sont les vecteurs propres.</strong></p>
        <p><strong>En IA, c'est fondamental :</strong></p>
        <ul>
          <li><strong>PCA</strong> : trouver les directions de plus grande variance dans les donn√©es</li>
          <li><strong>PageRank</strong> : Google classe les pages web avec des valeurs propres</li>
          <li><strong>Recommandation</strong> : Netflix utilise la d√©composition spectrale</li>
        </ul>
      `
    },

    // ========== SECTION 2: D√âFINITION ==========
    {
      type: "mathematique",
      icon: "üìê",
      title: "D√©finition",
      content: `
        <p>Un vecteur <strong>v</strong> est un <strong>vecteur propre</strong> de la matrice A si :</p>
        <p style="text-align: center; font-size: 1.2rem;">
          $$A \\vec{v} = \\lambda \\vec{v}$$
        </p>
        <p>Le nombre <strong>Œª</strong> est la <strong>valeur propre</strong> associ√©e.</p>
        <p><strong>Interpr√©tation :</strong></p>
        <ul>
          <li>La matrice A ne fait QUE multiplier v par Œª</li>
          <li>Pas de rotation, juste un √©tirement (ou r√©tr√©cissement)</li>
          <li>Si Œª > 1 : √©tirement</li>
          <li>Si 0 < Œª < 1 : r√©tr√©cissement</li>
          <li>Si Œª < 0 : inversion de direction + √©tirement</li>
        </ul>
      `
    },

    // ========== SECTION 3: QUIZ COMPR√âHENSION ==========
    {
      type: "quiz",
      title: "V√©rification",
      question: "Si Av = 3v, que vaut la valeur propre Œª ?",
      options: ["0", "1", "3", "v"],
      correct: 2,
      explanation: "Œª = 3. Le vecteur v est multipli√© par 3 quand on applique A.",
      completesObjective: 0
    },

    // ========== SECTION 4: V√âRIFIER UN VECTEUR PROPRE ==========
    {
      type: "exemple",
      icon: "‚úì",
      title: "V√©rifier un vecteur propre",
      content: `
        <p><strong>Exemple :</strong> V√©rifions que v = [1, 1] est vecteur propre de A.</p>
        <p style="text-align: center;">
          $$A = \\begin{bmatrix} 2 & 1 \\\\ 1 & 2 \\end{bmatrix}, \\quad \\vec{v} = \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}$$
        </p>
        <p><strong>Calcul :</strong></p>
        <p style="text-align: center;">
          $$A\\vec{v} = \\begin{bmatrix} 2 & 1 \\\\ 1 & 2 \\end{bmatrix} \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix} = \\begin{bmatrix} 3 \\\\ 3 \\end{bmatrix} = 3 \\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}$$
        </p>
        <p><strong>Conclusion :</strong> v est vecteur propre avec Œª = 3 ‚úì</p>
      `
    },

    // ========== SECTION 5: EXERCICE V√âRIFICATION ==========
    {
      type: "exercise",
      title: "V√©rifiez le vecteur propre",
      exerciseType: "numeric",
      question: `
        <p>Soit A et v :</p>
        <p style="text-align: center;">
          $$A = \\begin{bmatrix} 4 & 2 \\\\ 1 & 3 \\end{bmatrix}, \\quad \\vec{v} = \\begin{bmatrix} 2 \\\\ 1 \\end{bmatrix}$$
        </p>
        <p>Calculez Av. Si v est un vecteur propre, quelle est la valeur propre Œª ?</p>
      `,
      answer: 5,
      tolerance: 0,
      explanation: "Av = [4√ó2+2√ó1, 1√ó2+3√ó1] = [10, 5] = 5√ó[2, 1]. Donc Œª = 5.",
      hint: "Calculez Av, puis voyez si le r√©sultat est un multiple de v.",
      completesObjective: 1
    },

    // ========== SECTION 6: TROUVER LES VALEURS PROPRES ==========
    {
      type: "mathematique",
      icon: "üîç",
      title: "Trouver les valeurs propres",
      content: `
        <p><strong>M√©thode :</strong> r√©soudre l'√©quation caract√©ristique.</p>
        <p style="text-align: center;">
          $$\\det(A - \\lambda I) = 0$$
        </p>
        <p><strong>Pour une matrice 2√ó2 :</strong></p>
        <p style="text-align: center;">
          $$A = \\begin{bmatrix} a & b \\\\ c & d \\end{bmatrix}$$
        </p>
        <p style="text-align: center;">
          $$\\det\\begin{bmatrix} a-\\lambda & b \\\\ c & d-\\lambda \\end{bmatrix} = (a-\\lambda)(d-\\lambda) - bc = 0$$
        </p>
        <p><strong>Exemple avec A = [[3, 1], [1, 3]] :</strong></p>
        <p style="text-align: center;">
          $$(3-\\lambda)(3-\\lambda) - 1 = 0$$
          $$\\lambda^2 - 6\\lambda + 8 = 0$$
          $$(\\lambda - 4)(\\lambda - 2) = 0$$
        </p>
        <p><strong>Valeurs propres : Œª‚ÇÅ = 4 et Œª‚ÇÇ = 2</strong></p>
      `
    },

    // ========== SECTION 7: EXERCICE VALEURS PROPRES ==========
    {
      type: "exercise",
      title: "Trouvez les valeurs propres",
      exerciseType: "numeric",
      question: `
        <p>Trouvez la <strong>plus grande</strong> valeur propre de :</p>
        <p style="text-align: center;">
          $$A = \\begin{bmatrix} 5 & 2 \\\\ 2 & 2 \\end{bmatrix}$$
        </p>
        <p><em>Indice : det(A - ŒªI) = (5-Œª)(2-Œª) - 4 = 0</em></p>
      `,
      answer: 6,
      tolerance: 0,
      explanation: "Œª¬≤ - 7Œª + 6 = 0 ‚Üí (Œª-6)(Œª-1) = 0. Valeurs propres : 6 et 1. La plus grande est 6.",
      hint: "D√©veloppez (5-Œª)(2-Œª) - 4 et r√©solvez l'√©quation du second degr√©.",
      completesObjective: 1
    },

    // ========== SECTION 8: CODE PYTHON ==========
    {
      type: "code",
      title: "Valeurs propres en Python",
      description: "NumPy calcule les valeurs et vecteurs propres facilement :",
      code: `import numpy as np

A = np.array([[3, 1],
              [1, 3]])

# Calculer valeurs et vecteurs propres
valeurs, vecteurs = np.linalg.eig(A)

print("Valeurs propres:", valeurs)
print("\\nVecteurs propres (colonnes):")
print(vecteurs)

# V√©rification : Av = Œªv
v1 = vecteurs[:, 0]  # Premier vecteur propre
lambda1 = valeurs[0]

print(f"\\nV√©rification pour Œª = {lambda1:.1f}:")
print(f"A @ v1 = {A @ v1}")
print(f"Œª √ó v1 = {lambda1 * v1}")`
    },

    // ========== SECTION 9: TROUVER VECTEUR PROPRE ==========
    {
      type: "mathematique",
      icon: "üìê",
      title: "Trouver le vecteur propre",
      content: `
        <p><strong>Une fois Œª connu, on r√©sout :</strong></p>
        <p style="text-align: center;">
          $$(A - \\lambda I)\\vec{v} = \\vec{0}$$
        </p>
        <p><strong>Exemple avec A = [[3, 1], [1, 3]] et Œª = 4 :</strong></p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} 3-4 & 1 \\\\ 1 & 3-4 \\end{bmatrix} \\begin{bmatrix} x \\\\ y \\end{bmatrix} = \\begin{bmatrix} 0 \\\\ 0 \\end{bmatrix}$$
        </p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} -1 & 1 \\\\ 1 & -1 \\end{bmatrix} \\begin{bmatrix} x \\\\ y \\end{bmatrix} = \\begin{bmatrix} 0 \\\\ 0 \\end{bmatrix}$$
        </p>
        <p>Premi√®re ligne : -x + y = 0, donc x = y</p>
        <p><strong>Vecteur propre :</strong> v = [1, 1] (ou tout multiple)</p>
      `
    },

    // ========== SECTION 10: EXERCICE VECTEUR PROPRE ==========
    {
      type: "exercise",
      title: "Trouvez le vecteur propre",
      exerciseType: "mcq",
      question: `
        <p>Pour A = [[5, 2], [2, 2]] avec Œª = 6, quel est le vecteur propre ?</p>
        <p><em>R√©solvez (A - 6I)v = 0</em></p>
      `,
      options: ["[1, 1]", "[2, 1]", "[1, 2]", "[-1, 1]"],
      correct: 1,
      explanation: "(A - 6I) = [[-1, 2], [2, -4]]. Ligne 1 : -x + 2y = 0, donc x = 2y. Vecteur : [2, 1].",
      completesObjective: 2
    },

    // ========== SECTION 11: VISUALISATION ==========
    {
      type: "code",
      title: "Visualiser les vecteurs propres",
      description: "Les vecteurs propres sont les directions qui ne tournent pas :",
      code: `import numpy as np
import matplotlib.pyplot as plt

A = np.array([[2, 1],
              [1, 2]])

# Valeurs et vecteurs propres
vals, vecs = np.linalg.eig(A)

# Cr√©er des vecteurs de test
theta = np.linspace(0, 2*np.pi, 100)
circle = np.array([np.cos(theta), np.sin(theta)])

# Transformer le cercle
transformed = A @ circle

# Visualisation
fig, ax = plt.subplots(figsize=(8, 8))

# Cercle original et transform√©
ax.plot(circle[0], circle[1], 'b-', alpha=0.5, label='Cercle original')
ax.plot(transformed[0], transformed[1], 'r-', alpha=0.5, label='Apr√®s transformation')

# Vecteurs propres
for i in range(2):
    v = vecs[:, i]
    ax.arrow(0, 0, v[0]*2, v[1]*2, head_width=0.1, color='green', linewidth=2)
    ax.arrow(0, 0, v[0]*vals[i]*2, v[1]*vals[i]*2, head_width=0.1,
             color='purple', linewidth=2, linestyle='--')

ax.set_xlim(-4, 4)
ax.set_ylim(-4, 4)
ax.set_aspect('equal')
ax.grid(True, alpha=0.3)
ax.axhline(y=0, color='k', linewidth=0.5)
ax.axvline(x=0, color='k', linewidth=0.5)
ax.legend()
ax.set_title(f'Vecteurs propres (Œª = {vals[0]:.1f}, {vals[1]:.1f})')
plt.show()`
    },

    // ========== SECTION 12: APPLICATION PCA ==========
    {
      type: "concept",
      icon: "üìä",
      title: "Application : PCA",
      content: `
        <p><strong>L'Analyse en Composantes Principales (PCA)</strong> utilise les valeurs propres pour r√©duire la dimension des donn√©es.</p>
        <p><strong>Principe :</strong></p>
        <ol>
          <li>Calculer la matrice de covariance des donn√©es</li>
          <li>Trouver ses valeurs propres et vecteurs propres</li>
          <li>Les vecteurs propres avec les plus grandes valeurs propres = directions de plus grande variance</li>
          <li>Projeter les donn√©es sur ces directions</li>
        </ol>
        <p><strong>Exemple :</strong> Un dataset de 100 colonnes peut souvent √™tre r√©duit √† 10 colonnes en gardant 95% de l'information.</p>
        <p><strong>La valeur propre indique l'importance :</strong></p>
        <ul>
          <li>Grande valeur propre = direction importante (beaucoup de variance)</li>
          <li>Petite valeur propre = direction moins importante (peu de variance)</li>
        </ul>
      `
    },

    // ========== SECTION 13: CODE PCA ==========
    {
      type: "code",
      title: "PCA en action",
      description: "Voyons PCA sur des donn√©es 2D :",
      code: `import numpy as np
import matplotlib.pyplot as plt

# G√©n√©rer des donn√©es corr√©l√©es
np.random.seed(42)
mean = [0, 0]
cov = [[2, 1.5], [1.5, 1.5]]
data = np.random.multivariate_normal(mean, cov, 200)

# Centrer les donn√©es
data_centered = data - data.mean(axis=0)

# Matrice de covariance
C = np.cov(data_centered.T)
print("Matrice de covariance:")
print(np.round(C, 2))

# Valeurs/vecteurs propres
vals, vecs = np.linalg.eig(C)
print(f"\\nValeurs propres: {vals}")
print(f"Variance expliqu√©e: {vals/vals.sum()*100}%")

# Visualisation
fig, ax = plt.subplots(figsize=(8, 6))
ax.scatter(data[:, 0], data[:, 1], alpha=0.5, s=20)

# Afficher les composantes principales
for i in range(2):
    v = vecs[:, i] * np.sqrt(vals[i]) * 2
    ax.arrow(data.mean(axis=0)[0], data.mean(axis=0)[1],
             v[0], v[1], head_width=0.1, color=['red', 'blue'][i], linewidth=2)

ax.set_aspect('equal')
ax.grid(True, alpha=0.3)
ax.set_title('PCA : Composantes principales')
plt.show()`
    },

    // ========== SECTION 14: EXERCICE CODE ==========
    {
      type: "exercise-code",
      title: "D√©fi : calculez les valeurs propres",
      instruction: `
        <p>Cr√©ez une matrice <code>A</code> sym√©trique 2√ó2 et trouvez ses valeurs propres.</p>
        <p>Affichez les valeurs propres tri√©es par ordre d√©croissant.</p>
      `,
      starterCode: `import numpy as np

# Cr√©ez une matrice sym√©trique 2√ó2
A = np.array([[___, ___],
              [___, ___]])

# Calculez les valeurs propres
valeurs, vecteurs = np.linalg.eig(A)

# Triez par ordre d√©croissant
valeurs_triees = np.sort(valeurs)[::-1]
print("Valeurs propres:", valeurs_triees)`,
      validate: `
try:
    A.shape == (2, 2) and len(valeurs) == 2
except:
    False
      `,
      successMessage: "Vous savez calculer des valeurs propres en Python !",
      errorMessage: "V√©rifiez que A est bien une matrice 2√ó2.",
      completesObjective: 3
    },

    // ========== SECTION 15: QUIZ FINAL ==========
    {
      type: "quiz",
      title: "Quiz final",
      question: "En PCA, que repr√©sente la plus grande valeur propre ?",
      options: [
        "Le nombre de dimensions",
        "La direction de plus grande variance",
        "Le nombre de donn√©es",
        "L'erreur de reconstruction"
      ],
      correct: 1,
      explanation: "La plus grande valeur propre correspond √† la direction de plus grande variance dans les donn√©es. C'est la premi√®re composante principale.",
      wrongExplanation: "Relisez la section PCA. Les valeurs propres mesurent la variance expliqu√©e par chaque direction."
    },

    // ========== SECTION 16: SYNTH√àSE ==========
    {
      type: "application",
      icon: "üöÄ",
      title: "Ce que vous savez maintenant",
      content: `
        <p><strong>Vous ma√Ætrisez les valeurs propres :</strong></p>
        <ul>
          <li>‚úÖ <strong>D√©finition</strong> : Av = Œªv (direction qui ne tourne pas)</li>
          <li>‚úÖ <strong>Trouver Œª</strong> : r√©soudre det(A - ŒªI) = 0</li>
          <li>‚úÖ <strong>Trouver v</strong> : r√©soudre (A - ŒªI)v = 0</li>
          <li>‚úÖ <strong>Python</strong> : np.linalg.eig(A)</li>
          <li>‚úÖ <strong>PCA</strong> : r√©duction de dimension via valeurs propres</li>
        </ul>
        <p><strong>Prochaine √©tape :</strong> Les d√©riv√©es permettent de mesurer comment une fonction change. C'est la base de l'optimisation en IA (descente de gradient).</p>
      `
    }
  ]
};

document.addEventListener("DOMContentLoaded", function() {
  initializeModule(moduleConfig);
});
  </script>
</body>
</html>
