<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Les Matrices | IA4Ndada</title>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
  <link rel="stylesheet" href="../../styles/module.css">
</head>
<body>
  <nav class="nav">
    <div class="nav-container">
      <div class="nav-breadcrumb">
        <a href="../../index.html">Accueil</a>
        <span>‚Ä∫</span>
        <span>Maths</span>
        <span>‚Ä∫</span>
        <span>Matrices</span>
      </div>
      <div class="progress-indicator">
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
        </div>
        <span id="progress-text">0%</span>
        <span id="pyodide-status"><span class="status-loading">Chargement Python...</span></span>
      </div>
    </div>
  </nav>

  <div class="container">
    <h1>Les Matrices</h1>
    <p class="subtitle">Module 1.2 ‚Äî Transformer les vecteurs</p>

    <div class="objectives">
      <h2>Ce que vous allez apprendre</h2>
      <ul id="objectives-list"></ul>
    </div>

    <div id="module-content"></div>

    <div class="checkpoint">
      <h3>Checkpoint</h3>
      <p>Compl√©tez tous les exercices pour valider ce module</p>
      <button class="checkpoint-btn" id="checkpoint-btn" onclick="completeCheckpoint()" disabled>
        Valider le module
      </button>
    </div>

    <div class="module-nav">
      <a href="vectors.html" class="nav-link">‚Üê Vecteurs</a>
      <a href="eigenvalues.html" class="nav-link">Valeurs propres ‚Üí</a>
    </div>
  </div>

  <script src="../../scripts/module-engine.js"></script>
  <script>
const moduleConfig = {
  id: "math-matrices",
  title: "Les Matrices",
  category: "Math√©matiques",
  objectives: [
    "Comprendre ce qu'est une matrice et ses dimensions",
    "Savoir multiplier des matrices",
    "Transformer un vecteur avec une matrice",
    "Calculer un d√©terminant"
  ],
  content: [
    // ========== SECTION 1: POURQUOI ==========
    {
      type: "concept",
      icon: "üéØ",
      title: "Pourquoi les matrices ?",
      content: `
        <p><strong>Une matrice transforme des vecteurs.</strong></p>
        <p>Vous avez un vecteur (une liste de nombres). Une matrice peut le <strong>tourner</strong>, l'<strong>√©tirer</strong>, le <strong>projeter</strong>.</p>
        <p><strong>Une matrice, c'est un tableau de nombres :</strong></p>
        <p style="text-align: center; font-size: 1.1rem;">
          $$A = \\begin{bmatrix} 1 & 2 \\\\ 3 & 4 \\end{bmatrix}$$
        </p>
        <p>Cette matrice a <strong>2 lignes</strong> et <strong>2 colonnes</strong>. On dit qu'elle est de taille 2√ó2.</p>
        <p><strong>En IA, les matrices sont partout :</strong></p>
        <ul>
          <li>Les poids d'un r√©seau de neurones</li>
          <li>Les donn√©es d'entra√Ænement (lignes = exemples, colonnes = caract√©ristiques)</li>
          <li>Les transformations d'images</li>
        </ul>
      `
    },

    // ========== SECTION 2: QUIZ DIMENSIONS ==========
    {
      type: "quiz",
      title: "V√©rification",
      question: "Une matrice 3√ó2 a combien d'√©l√©ments au total ?",
      options: ["5", "6", "32", "23"],
      correct: 1,
      explanation: "3 lignes √ó 2 colonnes = 6 √©l√©ments.",
      completesObjective: 0
    },

    // ========== SECTION 3: ADDITION ==========
    {
      type: "mathematique",
      icon: "‚ûï",
      title: "Addition de matrices",
      content: `
        <p>Comme pour les vecteurs, on additionne <strong>√©l√©ment par √©l√©ment</strong>.</p>
        <p><strong>Condition :</strong> les deux matrices doivent avoir la m√™me taille.</p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} 1 & 2 \\\\ 3 & 4 \\end{bmatrix} + \\begin{bmatrix} 5 & 6 \\\\ 7 & 8 \\end{bmatrix} = \\begin{bmatrix} 6 & 8 \\\\ 10 & 12 \\end{bmatrix}$$
        </p>
      `
    },

    // ========== SECTION 4: EXERCICE ADDITION ==========
    {
      type: "exercise",
      title: "Calculez l'addition",
      exerciseType: "numeric",
      question: `
        <p>Calculez l'√©l√©ment en <strong>bas √† droite</strong> du r√©sultat :</p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} 2 & 3 \\\\ 4 & 5 \\end{bmatrix} + \\begin{bmatrix} 1 & 1 \\\\ 1 & 2 \\end{bmatrix} = \\begin{bmatrix} ? & ? \\\\ ? & ? \\end{bmatrix}$$
        </p>
      `,
      answer: 7,
      tolerance: 0,
      explanation: "5 + 2 = 7. Le r√©sultat complet est [[3,4],[5,7]].",
      hint: "L'√©l√©ment bas-droite : 5 + 2"
    },

    // ========== SECTION 5: PRODUIT MATRICIEL ==========
    {
      type: "mathematique",
      icon: "‚úñÔ∏è",
      title: "Le produit matriciel",
      content: `
        <p><strong>C'est l'op√©ration la plus importante.</strong> Elle est diff√©rente de l'addition !</p>
        <p>Pour multiplier A √ó B :</p>
        <ol>
          <li>Chaque √©l√©ment du r√©sultat est un <strong>produit scalaire</strong></li>
          <li>Ligne de A ¬∑ Colonne de B</li>
        </ol>
        <p><strong>Exemple :</strong></p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} 1 & 2 \\\\ 3 & 4 \\end{bmatrix} \\times \\begin{bmatrix} 5 & 6 \\\\ 7 & 8 \\end{bmatrix}$$
        </p>
        <p>√âl√©ment (1,1) : ligne 1 ¬∑ colonne 1 = 1√ó5 + 2√ó7 = <strong>19</strong></p>
        <p>√âl√©ment (1,2) : ligne 1 ¬∑ colonne 2 = 1√ó6 + 2√ó8 = <strong>22</strong></p>
        <p>√âl√©ment (2,1) : ligne 2 ¬∑ colonne 1 = 3√ó5 + 4√ó7 = <strong>43</strong></p>
        <p>√âl√©ment (2,2) : ligne 2 ¬∑ colonne 2 = 3√ó6 + 4√ó8 = <strong>50</strong></p>
        <p style="text-align: center;">
          $$= \\begin{bmatrix} 19 & 22 \\\\ 43 & 50 \\end{bmatrix}$$
        </p>
      `
    },

    // ========== SECTION 6: EXERCICE PRODUIT ==========
    {
      type: "exercise",
      title: "Calculez le produit",
      exerciseType: "numeric",
      question: `
        <p>Calculez l'√©l√©ment <strong>(1,1)</strong> (en haut √† gauche) du produit :</p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} 2 & 1 \\\\ 0 & 3 \\end{bmatrix} \\times \\begin{bmatrix} 4 & 0 \\\\ 1 & 2 \\end{bmatrix} = ?$$
        </p>
        <p><em>Rappel : ligne 1 ¬∑ colonne 1</em></p>
      `,
      answer: 9,
      tolerance: 0,
      explanation: "2√ó4 + 1√ó1 = 8 + 1 = 9",
      hint: "Ligne 1 de A = [2, 1], Colonne 1 de B = [4, 1]. Produit scalaire !",
      completesObjective: 1
    },

    // ========== SECTION 7: R√àGLE DES DIMENSIONS ==========
    {
      type: "concept",
      icon: "üìê",
      title: "R√®gle des dimensions",
      content: `
        <p><strong>Quand peut-on multiplier A √ó B ?</strong></p>
        <p>Seulement si : <strong>colonnes de A = lignes de B</strong></p>
        <p style="text-align: center; font-size: 1.1rem;">
          $$(m \\times \\boxed{n}) \\times (\\boxed{n} \\times p) = (m \\times p)$$
        </p>
        <p><strong>Exemples :</strong></p>
        <ul>
          <li>‚úÖ (2√ó<strong>3</strong>) √ó (<strong>3</strong>√ó4) ‚Üí r√©sultat 2√ó4</li>
          <li>‚úÖ (5√ó<strong>2</strong>) √ó (<strong>2</strong>√ó2) ‚Üí r√©sultat 5√ó2</li>
          <li>‚ùå (2√ó3) √ó (2√ó4) ‚Üí impossible ! (3 ‚â† 2)</li>
        </ul>
        <p><strong>Attention :</strong> A√óB ‚â† B√óA en g√©n√©ral !</p>
      `
    },

    // ========== SECTION 8: CODE PYTHON ==========
    {
      type: "code",
      title: "Matrices en Python avec NumPy",
      description: "NumPy rend les calculs matriciels simples :",
      code: `import numpy as np

# Cr√©er des matrices
A = np.array([[1, 2],
              [3, 4]])
B = np.array([[5, 6],
              [7, 8]])

print("Matrice A:")
print(A)
print("\\nMatrice B:")
print(B)

# Addition
print("\\nA + B =")
print(A + B)

# Produit matriciel (ATTENTION: @ ou np.dot, PAS *)
print("\\nA √ó B =")
print(A @ B)  # ou np.dot(A, B)

# Dimensions
print(f"\\nDimensions de A: {A.shape}")`
    },

    // ========== SECTION 9: TRANSFORMATION VECTEUR ==========
    {
      type: "mathematique",
      icon: "üîÑ",
      title: "Transformer un vecteur",
      content: `
        <p><strong>L'application principale :</strong> multiplier une matrice par un vecteur.</p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} a & b \\\\ c & d \\end{bmatrix} \\times \\begin{bmatrix} x \\\\ y \\end{bmatrix} = \\begin{bmatrix} ax + by \\\\ cx + dy \\end{bmatrix}$$
        </p>
        <p><strong>Exemple : rotation de 90¬∞</strong></p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} 0 & -1 \\\\ 1 & 0 \\end{bmatrix} \\times \\begin{bmatrix} 3 \\\\ 0 \\end{bmatrix} = \\begin{bmatrix} 0 \\\\ 3 \\end{bmatrix}$$
        </p>
        <p>Le point (3, 0) devient (0, 3) ‚Üí rotation de 90¬∞ !</p>
      `
    },

    // ========== SECTION 10: EXERCICE TRANSFORMATION ==========
    {
      type: "exercise",
      title: "Transformez le vecteur",
      exerciseType: "numeric",
      question: `
        <p>Calculez la <strong>premi√®re composante</strong> du vecteur transform√© :</p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} 2 & 1 \\\\ 0 & 3 \\end{bmatrix} \\times \\begin{bmatrix} 4 \\\\ 2 \\end{bmatrix} = \\begin{bmatrix} ? \\\\ ? \\end{bmatrix}$$
        </p>
      `,
      answer: 10,
      tolerance: 0,
      explanation: "2√ó4 + 1√ó2 = 8 + 2 = 10. Le r√©sultat complet est [10, 6].",
      hint: "Premi√®re composante = 2√ó4 + 1√ó2",
      completesObjective: 2
    },

    // ========== SECTION 11: CODE TRANSFORMATION ==========
    {
      type: "code",
      title: "Visualiser une transformation",
      description: "Voyons comment une matrice transforme des vecteurs :",
      code: `import numpy as np
import matplotlib.pyplot as plt

# Matrice de transformation (√©tirement + rotation)
M = np.array([[2, -0.5],
              [0.5, 1]])

# Points originaux (carr√©)
points = np.array([[0, 1, 1, 0, 0],
                   [0, 0, 1, 1, 0]])

# Points transform√©s
transformed = M @ points

# Visualisation
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(10, 4))

ax1.plot(points[0], points[1], 'b-o', linewidth=2, markersize=8)
ax1.set_xlim(-1, 3)
ax1.set_ylim(-1, 3)
ax1.set_aspect('equal')
ax1.grid(True, alpha=0.3)
ax1.set_title('Original')
ax1.axhline(y=0, color='k', linewidth=0.5)
ax1.axvline(x=0, color='k', linewidth=0.5)

ax2.plot(transformed[0], transformed[1], 'r-o', linewidth=2, markersize=8)
ax2.set_xlim(-1, 3)
ax2.set_ylim(-1, 3)
ax2.set_aspect('equal')
ax2.grid(True, alpha=0.3)
ax2.set_title('Apr√®s transformation')
ax2.axhline(y=0, color='k', linewidth=0.5)
ax2.axvline(x=0, color='k', linewidth=0.5)

plt.tight_layout()
plt.show()`
    },

    // ========== SECTION 12: D√âTERMINANT ==========
    {
      type: "mathematique",
      icon: "üìä",
      title: "Le d√©terminant",
      content: `
        <p><strong>Le d√©terminant mesure "l'effet" d'une matrice.</strong></p>
        <p>Pour une matrice 2√ó2 :</p>
        <p style="text-align: center;">
          $$\\det\\begin{bmatrix} a & b \\\\ c & d \\end{bmatrix} = ad - bc$$
        </p>
        <p><strong>Interpr√©tation :</strong></p>
        <ul>
          <li><strong>|det| > 1</strong> : la matrice agrandit</li>
          <li><strong>|det| = 1</strong> : la matrice conserve les aires (ex: rotation)</li>
          <li><strong>|det| < 1</strong> : la matrice r√©tr√©cit</li>
          <li><strong>det = 0</strong> : la matrice "√©crase" tout sur une ligne (pas d'inverse !)</li>
        </ul>
        <p><strong>Exemple :</strong></p>
        <p style="text-align: center;">
          $$\\det\\begin{bmatrix} 3 & 1 \\\\ 2 & 4 \\end{bmatrix} = 3 \\times 4 - 1 \\times 2 = 12 - 2 = 10$$
        </p>
      `
    },

    // ========== SECTION 13: EXERCICE D√âTERMINANT ==========
    {
      type: "exercise",
      title: "Calculez le d√©terminant",
      exerciseType: "numeric",
      question: `
        <p>Calculez :</p>
        <p style="text-align: center; font-size: 1.1rem;">
          $$\\det\\begin{bmatrix} 5 & 2 \\\\ 3 & 4 \\end{bmatrix} = ?$$
        </p>
      `,
      answer: 14,
      tolerance: 0,
      explanation: "5√ó4 - 2√ó3 = 20 - 6 = 14",
      hint: "Formule : ad - bc",
      completesObjective: 3
    },

    // ========== SECTION 14: MATRICE IDENTIT√â ET INVERSE ==========
    {
      type: "concept",
      icon: "üîÅ",
      title: "Identit√© et inverse",
      content: `
        <p><strong>La matrice identit√© I</strong> ne change rien :</p>
        <p style="text-align: center;">
          $$I = \\begin{bmatrix} 1 & 0 \\\\ 0 & 1 \\end{bmatrix} \\quad \\text{car} \\quad A \\times I = I \\times A = A$$
        </p>
        <p><strong>L'inverse A‚Åª¬π</strong> "annule" l'effet de A :</p>
        <p style="text-align: center;">
          $$A \\times A^{-1} = I$$
        </p>
        <p><strong>Formule pour 2√ó2</strong> (si det ‚â† 0) :</p>
        <p style="text-align: center;">
          $$\\begin{bmatrix} a & b \\\\ c & d \\end{bmatrix}^{-1} = \\frac{1}{ad-bc}\\begin{bmatrix} d & -b \\\\ -c & a \\end{bmatrix}$$
        </p>
        <p><strong>Important :</strong> Une matrice n'a d'inverse que si det ‚â† 0.</p>
      `
    },

    // ========== SECTION 15: CODE OPERATIONS ==========
    {
      type: "code",
      title: "D√©terminant et inverse en Python",
      description: "NumPy calcule tout pour nous :",
      code: `import numpy as np

A = np.array([[5, 2],
              [3, 4]])

# D√©terminant
det_A = np.linalg.det(A)
print(f"det(A) = {det_A}")

# Inverse
A_inv = np.linalg.inv(A)
print(f"\\nA‚Åª¬π =")
print(A_inv)

# V√©rification : A √ó A‚Åª¬π = I
print(f"\\nA √ó A‚Åª¬π =")
print(np.round(A @ A_inv, 10))  # round pour √©viter erreurs num√©riques

# Identit√©
I = np.eye(2)
print(f"\\nMatrice identit√© I =")
print(I)`
    },

    // ========== SECTION 16: EXERCICE CODE ==========
    {
      type: "exercise-code",
      title: "D√©fi : cr√©ez et transformez",
      instruction: `
        <p>Cr√©ez une matrice <code>M</code> de taille 2√ó2 et un vecteur <code>v</code> de taille 2.</p>
        <p>Calculez le produit <code>M @ v</code> et affichez le r√©sultat.</p>
      `,
      starterCode: `import numpy as np

# Cr√©ez une matrice 2√ó2
M = np.array([[___, ___],
              [___, ___]])

# Cr√©ez un vecteur de taille 2
v = np.array([___, ___])

# Calculez et affichez M √ó v
result = M @ v
print(result)`,
      validate: `
try:
    M.shape == (2, 2) and v.shape == (2,) and result.shape == (2,)
except:
    False
      `,
      successMessage: "Vous savez transformer des vecteurs avec des matrices !",
      errorMessage: "V√©rifiez que M est 2√ó2 et v est de taille 2."
    },

    // ========== SECTION 17: QUIZ FINAL ==========
    {
      type: "quiz",
      title: "Quiz final",
      question: "Si det(A) = 0, que peut-on dire ?",
      options: [
        "A est la matrice identit√©",
        "A n'a pas d'inverse",
        "A est une rotation",
        "A √ó A = A"
      ],
      correct: 1,
      explanation: "Une matrice avec det = 0 est dite 'singuli√®re' et n'a pas d'inverse. Elle '√©crase' l'espace sur une dimension inf√©rieure.",
      wrongExplanation: "Relisez la section sur le d√©terminant. det = 0 signifie que la matrice perd de l'information."
    },

    // ========== SECTION 18: SYNTH√àSE ==========
    {
      type: "application",
      icon: "üöÄ",
      title: "Ce que vous savez maintenant",
      content: `
        <p><strong>Vous ma√Ætrisez les matrices :</strong></p>
        <ul>
          <li>‚úÖ <strong>Cr√©er</strong> une matrice : tableau m√ón de nombres</li>
          <li>‚úÖ <strong>Additionner</strong> : √©l√©ment par √©l√©ment (m√™me taille)</li>
          <li>‚úÖ <strong>Multiplier</strong> : ligne ¬∑ colonne (colonnes A = lignes B)</li>
          <li>‚úÖ <strong>Transformer</strong> un vecteur : M √ó v</li>
          <li>‚úÖ <strong>D√©terminant</strong> : ad - bc (mesure l'effet)</li>
          <li>‚úÖ <strong>Inverse</strong> : "d√©fait" la transformation (si det ‚â† 0)</li>
        </ul>
        <p><strong>Prochaine √©tape :</strong> Les valeurs propres r√©v√®lent les "directions privil√©gi√©es" d'une matrice. C'est la cl√© de la r√©duction de dimension en IA.</p>
      `
    }
  ]
};

document.addEventListener("DOMContentLoaded", function() {
  initializeModule(moduleConfig);
});
  </script>
</body>
</html>
